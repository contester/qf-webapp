@(title: String, tab: String = "", styles: Html = Html(""), scripts: Html = Html(""),
  modals: Html = Html(""), variant: DisplayMode=EmptyDisplayMode)(content: Html)(implicit request: RequestHeader)

@notifySocket = @{variant match {
case TeamDisplayMode => Some(routes.Application.socket.webSocketURL())
case _ => None
}
}

@navlink(myid: String, myhref: String, mytext: String) = {
    @if(myid == tab) {
        <li class="active"><a href="#">@mytext <span class="sr-only">(current)</span></a></li>
    } else {
        <li><a href="@myhref">@mytext</a></li>
    }
}

@teamNavlinks = {
@navlink("index", "/", "Подходы")
@navlink("submit", "/submit", "Отправить")
@navlink("monitor", "/monitor", "Монитор")
<li class="dropdown">
    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Информация <span class="caret"></span></a>
    <ul class="dropdown-menu">
        @navlink("clarifications", "/clarifications", "Сообщения жюри")
        @navlink("print", "/print", "Печать")
        @navlink("sendwithinput", "/sendwithinput", "Запуск на стороне сервера")
        <li role="separator" class="divider"></li>
        <li><a href="#">Строки компиляции</a></li>
        <li role="separator" class="divider"></li>
        <li><a href="#">Ботва</a></li>
    </ul>
</li>
}

@adminNavlinks = {
@navlink("index", "/admin", "Статус")
@navlink("monitor", "/admin/monitor", "Монитор")
}

<!DOCTYPE html>

<html>
<head>
    <title>@if(title !="") {
    @title :
    }
    Contester</title>
    <link rel="stylesheet" media="screen" href="@routes.Assets.at("lib/bootstrap/css/bootstrap.min.css")">
    <link rel="stylesheet" media="screen" href="@routes.Assets.at("lib/font-awesome/css/font-awesome.min.css")">
    <link rel="stylesheet" media="screen" href="@routes.Assets.at("lib/bootstrap-datepicker/css/datepicker3.css")">

    <link href="@routes.Assets.at("css/roboto.min.css")" rel="stylesheet">
    <link href="@routes.Assets.at("css/material.min.css")" rel="stylesheet">
    <link href="@routes.Assets.at("css/ripples.min.css")" rel="stylesheet">

    @styles
    <style>
        body {
        padding-top: 80px; /* 60px to make the container go all the way to the bottom of the topbar */
        }
        .table-vcenter td {
        vertical-align: middle!important;
        }
    </style>
    <script src="@routes.Assets.at("lib/jquery/jquery.min.js")" type="text/javascript"></script>
	<script src="@routes.Assets.at("lib/bootstrap/js/bootstrap.min.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("lib/bootstrap-datepicker/js/bootstrap-datepicker.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("js/ripples.min.js")"></script>
    <script src="@routes.Assets.at("js/material.min.js")"></script>
    <script src="@routes.Assets.at("js/reconnecting-websocket.min.js")"></script>
    <script src="@routes.Assets.at("js/local.js")"></script>
    <script type="text/javascript">
    $.material.init()

    @for(s <- notifySocket) {
        document.addEventListener('DOMContentLoaded', maybeCheckNotifyPermission);
        listenOnSocket("@s", '@routes.Assets.at("images/")');
    }
    </script>
    @scripts
</head>
<body>

@{variant match {
    case TeamDisplayMode => navbar(teamNavlinks)
case AdminDisplayMode =>navbar(adminNavlinks, true)
case _ => Html("")
}
}

<div class="container">
    @content
</div>

@modals

</body>
</html>