@(contest: Contest, status: models.AnyStatus, current: Int)

@import spire.math.Rational

@if(contest.started) {

<table class="table table-hover table-bordered table-responsive">
    <thead>
    <tr><th>Rank</th><th>ID</th><th>Name</th>
    @status match {
    case st: ACM.Status => {
    <th>Solved</th><th>Penalty</th>
        }
        case st: School.Status => {
    <th>Score</th>
        }
        }
        @for(p <- status.problems) {
        <th>@p</th>
        }
    </tr>
    </thead>
    <tbody>

    @for(r <- status.anyRows) {
    @if(current == r.team.localId) {
    <tr class="info">
        } else {
    <tr>
        }
        <th scope="row">@r.rankStr</th><td>@r.team.localId</td>
        <td>@r.team.schoolNameWithNum<br/><small>@r.team.teamName</small></td>
        @r.anyScore match {
        case sc: ACM.Score => {
        <td>@sc.solved</td><td>@sc.penalty</td>
        }
        case sc: Rational => {
        <td>@RationalToScoreStr(sc)</td>
        }
        }

        @for(p <- status.problems.map(r.anyCells.get)) {
        <td class="text-center">
            @for(anyCell <- p) {
            @anyCell match {
                case cell: ACMCell => {
                    @if(cell.fullSolution) {
                    <span class="text-success"><strong>@cell</strong></span><br/>
                    <span class="text-info"><small>@SecondsToTimeStr(cell.arrivedSeconds)</small></span>
                    } else {
                    <span class="text-muted">@cell</span>
                    }
                }
                case cell: SchoolCell => {
                    @if(cell.fullSolution) {
                    <span class="text-success"><strong>@cell</strong></span>
                    } else {
                    <span class="text-muted">@cell</span>
                    }
                }
            }
            }
        </td>
        }

        </tr>
    }

    </tbody>
</table>
}